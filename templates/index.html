<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vyakula</title>
    <link rel="icon" type="images/x-icon" href="../static/images/favicon.jpg">
    <link rel="stylesheet" href="../static/css/styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href=" https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
          <a class="navbar-brand" href="#home"><i class="fa fa-cutlery" aria-hidden="true"></i>Vyakula.</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
             
              <li class="nav-item">
                <a class="nav-link" href="#home">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#about">About</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#menu">Menu</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#review">Review</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#contact">Contact</a>
              </li>
              
              </ul>
              
          </div>
        </div>
      </nav>
      
    <!-- end of navbar-->

    <!--Home page section-->

    <section id="home">

        <div id="carouselExampleCaptions" class="carousel slide">
          <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
          </div>
          <div class="carousel-inner">
            <div class="carousel-item active bg-1">
              <div class="carousel-caption">
                <h5>Biryani</h5>
                <p>Savoring the rich and aromatic flavors of biryani.</p>
                <a href="#">ORDER NOW</a>
              </div>
            </div>
            <div class="carousel-item bg-2">            
              <div class="carousel-caption">
                <h5>Shawarma</h5>
                <p>Wrap yourself in the delicious layers of Shawarma.</p>
                <a href="#">ORDER NOW</a>
              </div>
            </div>
            <div class="carousel-item bg-3">            
              <div class="carousel-caption">
                <h5>Ugali and Samaki</h5>
                <p>Embrace the heartwarming simplicity of Ugali and the savory delight of perfectly grilled fish.</p>
                <a href="#">ORDER NOW</a>
              </div>
            </div>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
        </section>

    <!--End of home sectio-->

    <!--About us section-->
    
    <section id="about">
      <div class="container-lg">
        <h2 class="text-center">About Us</h2>
        <p class="lead my-4 text-muted text-center">Tasty treats right at your doorstep</p>
          <div class="row justify-content-center align-items-center">
            <div class="col-md-5 text-center">
              <img class="img-fluid" src="../static/images/deliver.jpg" alt="delivery">
          </div>
              <div class="col-md-5 text-center text-start">
                 
                  <p class="lead my-4 text-muted">At Vyakula, we're on a mission to redefine how you experience food. Our delivery food app was created with one simple goal in mind: to make delicious meals more accessible, convenient, and enjoyable than ever before.</p>
                  <p class="lead my-4 text-muted">Join us today and embark on a culinary journey that brings your favorite foods right to your doorstep. With Vyakula, we make satisfying your cravings a delightful experience. <br><br>24/7 Support: Our dedicated customer support team is always here to assist you with any questions or concerns, ensuring a smooth and satisfying experience every time.</p>
              </div>
              
          </div>
      </div>

    </section>

    <!--End of about us-->

    <!-- Menu section-->
    <!--Updated-->
    <section id="menu">
        <div class="menu">
            <div class="heading">
                <h1>Restaurant Food</h1>
                <h3>&mdash;Menu&mdash;</h3>
            </div>

            <div class="food-items">
              {% for item in menu_items %}
              <div class="food-item">
                  {% if item.image %}
                      <img src="data:image/jpeg;base64,{{ item.image|base64_encode }}" alt="{{ item.name }}">
                  {% else %}
                      <p>No image available</p>
                  {% endif %}
                  <div class="details">
                      <div class="details-sub">
                          <h5>{{ item.name }}</h5>
                          <h5 class="price">ksh{{ item.price }}</h5>
                      </div>
                      <p>{{ item.description }}</p>
                      <button onclick="addToCart(' {{item.id}}')">Add to Cart</button>
                  </div>
              </div>
          {% endfor %}
          
            </div>
            
        </div>
    </section>
    <!-- end of menu section-->

    <!--Review section-->

    <!--end of review section-->

    <!--Contact page-->

    <!--end of contact page-->
    <!--footer section-->
      <footer>

      </footer>

      
      <script>
        function addToCart() {
          
            fetch('/add_to_cart', {
                method: 'POST',
            })
            .then(response => response.json())
            .then(data => {
                
                document.getElementById('totalQuantity').innerText = data.total_quantity;
            });
        }
    
        function showCart() {
            
            fetch('/get_cart_items')
            .then(response => response.json())
            .then(data => {
                
                displayCartItems(data.cart_items);
                displayOtherDetails(data.other_details);
            })
            .catch(error => console.error('Error:', error));
        }
    
        function displayCartItems(cartItems) {
            const cartItemsDiv = document.getElementById('cartItems');
            cartItemsDiv.innerHTML = '';
    
            if (cartItems.length === 0) {
                cartItemsDiv.innerHTML = '<p>Your cart is empty.</p>';
            } else {
                const ul = document.createElement('ul');
                cartItems.forEach(item => {
                    const li = document.createElement('li');
                    li.innerText = item;
                    ul.appendChild(li);
                });
                cartItemsDiv.appendChild(ul);
            }
        }
    
        function displayOtherDetails(otherDetails) {
            const otherDetailsDiv = document.getElementById('otherDetails');
            otherDetailsDiv.innerHTML = '';
    
            const discountPercentage = otherDetails.discount_percentage;
            const subtotal = otherDetails.subtotal;
    
            const discountDiv = document.createElement('div');
            discountDiv.innerText = `Discount: ${discountPercentage}%`;
            otherDetailsDiv.appendChild(discountDiv);
    
            const subtotalDiv = document.createElement('div');
            subtotalDiv.innerText = `Subtotal: $${subtotal}`;
            otherDetailsDiv.appendChild(subtotalDiv);
        }
    </script>

</body>
</html>
